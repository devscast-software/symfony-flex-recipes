{
    "manifests": {
        "doctrine/doctrine-fixtures-bundle": {
            "manifest": {
                "bundles": {
                    "Doctrine\\Bundle\\FixturesBundle\\DoctrineFixturesBundle": [
                        "dev",
                        "test"
                    ]
                },
                "copy-from-recipe": {
                    "fixtures/": "fixtures/"
                },
                "post-install-output": [
                    "  * installed from devscast"
                ]
            },
            "files": {
                "fixtures/AppFixtures.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace Fixtures;",
                        "",
                        "use Doctrine\\Bundle\\FixturesBundle\\Fixture;",
                        "use Doctrine\\Persistence\\ObjectManager;",
                        "use Nelmio\\Alice\\Loader\\NativeLoader;",
                        "use Nelmio\\Alice\\Throwable\\LoadingThrowable;",
                        "use Symfony\\Component\\HttpKernel\\KernelInterface;",
                        "",
                        "/**",
                        " * Class AppFixtures",
                        " *",
                        " * allows to import fixtures in yaml format",
                        " * while keeping the possibility to use fixtures in php if needed",
                        " *",
                        " * @package Fixtures",
                        " * @author bernard-ng <bernard@devscast.tech>",
                        " */",
                        "class AppFixtures extends Fixture",
                        "{",
                        "    public function __construct(",
                        "        private readonly KernelInterface $kernel",
                        "    ) {",
                        "    }",
                        "",
                        "    /**",
                        "     * @throws LoadingThrowable",
                        "     */",
                        "    public function load(ObjectManager $manager): void",
                        "    {",
                        "        if ($this->kernel->getEnvironment() === 'dev') {",
                        "            $loader = new NativeLoader();",
                        "            $entities = $loader",
                        "                ->loadFile($this->kernel->getProjectDir() . '/fixtures/data/fixtures.yaml')",
                        "                ->getObjects();",
                        "",
                        "            foreach ($entities as $entity) {",
                        "                $manager->persist($entity);",
                        "            };",
                        "            $manager->flush();",
                        "        }",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "fixtures/data/fixtures.yaml": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "23fd6c7776d2f25757706cb5a661bed6f22baf1f"
        }
    }
}
